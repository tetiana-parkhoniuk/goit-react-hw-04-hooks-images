(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{12:function(e,t,a){e.exports={imageGalleryItem:"ImageGalleryItem_imageGalleryItem__1LEDw",imageGalleryItemImage:"ImageGalleryItem_imageGalleryItemImage__2Xjb0"}},13:function(e,t,a){e.exports={overlay:"Modal_overlay__2GjdW",modal:"Modal_modal__P3_V5"}},25:function(e,t,a){e.exports={imageGallery:"ImageGallery_imageGallery__1IlRL"}},26:function(e,t,a){e.exports={button:"Button_button__3QF_k"}},28:function(e,t,a){e.exports={spinner:"Spinner_spinner__1Neu5"}},29:function(e,t,a){e.exports={app:"App_app__1kX79"}},34:function(e,t,a){},5:function(e,t,a){e.exports={searchbar:"Searchbar_searchbar__jo466",searchForm:"Searchbar_searchForm__23jwf",searchFormBtn:"Searchbar_searchFormBtn__24U6R",searchFormBtnLabel:"Searchbar_searchFormBtnLabel__dw1vf",searchFormInput:"Searchbar_searchFormInput__tpesZ"}},76:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(8),o=a.n(c),s=(a(34),a(35),a(4)),i=a.n(s),l=a(15),u=a(10),m=a(6),b=a(16),p=a(5),j=a.n(p),h=a(1);function f(e){var t=e.onSubmit;return Object(h.jsx)("header",{className:j.a.searchbar,children:Object(h.jsxs)("form",{className:j.a.searchForm,onSubmit:function(e){e.preventDefault(),t(e.target.elements.searchQuery.value)},children:[Object(h.jsx)("button",{type:"submit",className:j.a.searchFormBtn,children:Object(h.jsx)("span",{className:j.a.searchFormBtnLabel,children:"Search"})}),Object(h.jsx)("input",{className:j.a.searchFormInput,name:"searchQuery",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"})]})})}var d=a(12),g=a.n(d);function _(e){var t=e.webformatURL,a=e.tags,n=e.onImageClick,r=e.largeImageURL;return Object(h.jsx)("li",{className:g.a.imageGalleryItem,onClick:function(){return n(r)},children:Object(h.jsx)("img",{src:t,alt:a,className:g.a.imageGalleryItemImage})})}var O=a(25),v=a.n(O);function x(e){var t=e.images,a=e.onSelect;return Object(h.jsx)("ul",{className:v.a.imageGallery,children:t.map((function(e){return Object(h.jsx)(_,{webformatURL:e.webformatURL,tags:e.tags,onImageClick:a,largeImageURL:e.largeImageURL},e.id)}))})}var y=a(2),I=a.n(y),w=a(26),S=a.n(w);function k(e){var t=e.onClick;return Object(h.jsx)("button",{type:"button",className:S.a.button,onClick:t,children:"Load more"})}k.prototypes={onClick:I.a.func.isRequired};var L=a(27),F=a.n(L),N=a(28),G=a.n(N);function R(){return Object(h.jsx)("div",{className:G.a.spinner,children:Object(h.jsx)(F.a,{type:"ThreeDots",color:"#d3d8e8",height:100,width:100,timeout:3e3})})}var C=a(13),U=a.n(C),B=document.querySelector("#modal-root");function E(e){var t=e.onClose,a=e.largeImageURL;Object(n.useEffect)((function(){return window.addEventListener("keydown",r),function(){window.removeEventListener("keydown",r)}}));var r=function(e){"Escape"===e.code&&(console.log(e),t())};return Object(c.createPortal)(Object(h.jsx)("div",{className:U.a.overlay,onClick:function(e){e.currentTarget===e.target&&t()},children:Object(h.jsx)("div",{className:U.a.modal,children:Object(h.jsx)("img",{src:a,alt:""})})}),B)}var q=a(14),D=a.n(q);D.a.defaults.baseURL="https://pixabay.com/api/";var M=function(){var e=Object(u.a)(i.a.mark((function e(t){var a,n,r,c,o=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>1&&void 0!==o[1]?o[1]:1,n="21882924-40498065f1aa5022828b315f8",r="page=".concat(a,"&key=").concat(n,"&image_type=photo&orientation=horizontal&per_page=12"),e.next=5,D.a.get("?q=".concat(t,"&").concat(r));case 5:return c=e.sent,e.abrupt("return",c.data.hits);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Q=a(29),T=a.n(Q);function J(){var e=Object(n.useState)(""),t=Object(m.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)([]),o=Object(m.a)(c,2),s=o[0],p=o[1],j=Object(n.useState)(1),d=Object(m.a)(j,2),g=d[0],_=d[1],O=Object(n.useState)("idle"),v=Object(m.a)(O,2),y=v[0],I=v[1],w=Object(n.useState)(null),S=Object(m.a)(w,2),L=S[0],F=S[1];Object(n.useEffect)((function(){function e(){return(e=Object(u.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,I("pending"),e.next=4,M(a,g);case 4:t=e.sent,p((function(e){return[].concat(Object(l.a)(e),Object(l.a)(t))})),I("fulfilled"),N(),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),I("rejected"),b.b.error("Something went worng, please try again later.");case 14:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}""!==a&&function(){e.apply(this,arguments)}()}),[a,g]);var N=function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})},G="pending"===y,C=s.length>0;return Object(h.jsxs)("div",{className:T.a.app,children:[Object(h.jsx)(b.a,{position:"top-right",toastOptions:{duration:2e3}}),Object(h.jsx)(f,{onSubmit:function(e){r(e),p([]),_(1)}}),Object(h.jsx)(x,{images:s,onSelect:function(e){F(e)}}),G&&Object(h.jsx)(R,{}),C&&Object(h.jsx)(k,{onClick:function(){_((function(e){return e+1}))}}),L&&Object(h.jsx)(E,{onClose:function(){F(!L)},largeImageURL:L})]})}o.a.render(Object(h.jsx)(r.a.StrictMode,{children:Object(h.jsx)(J,{})}),document.getElementById("root"))}},[[76,1,2]]]);
//# sourceMappingURL=main.d2d3fc1e.chunk.js.map